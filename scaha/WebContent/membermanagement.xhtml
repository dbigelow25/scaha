<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<f:metadata>
<f:event type="preRenderView" listener="#{profileBean.verifyUserLogin()}" />
</f:metadata>

<ui:composition template="/WEB-INF/templates/layout.xhtml">
<ui:define name="content">

 <p:tabMenu activeIndex="1">  
    <p:menuitem value="My Information" url="manageprofile.xhtml" />  
    <p:menuitem value="Scaha Membership" url="membermanagement.xhtml" icon="ui-icon-star" />  
    <p:menuitem value="My Roles" url="/ui/tabMenuDocumentation.jsf" />  
    <p:menuitem value="Support" url="/ui/tabMenuSupport.jsf"/>  
    <p:menuitem value="Social" url="/ui/tabMenuSocial.jsf" />  
</p:tabMenu>  

<p:separator id="separator"/>


  <h:form id="mp-form">

 	<h:panelGroup id="view-members" rendered="#{profileBean.isViewMembers()}">
        
		<p:dataTable var="familymember" value="#{profileBean.getFamilyMembers()}">  
   		    <p:column headerText="First Name"><h:outputText value="#{familymember.getsFirstName()}" /></p:column>  
       		<p:column headerText="Last Name"><h:outputText value="#{familymember.getsLastName()}" /></p:column>  
       		<p:column headerText="Relationship"><h:outputText value="#{familymember.getRelationship()}" /></p:column>
       		<p:column headerText="Gender"><h:outputText value="#{familymember.getGender()}" /></p:column>  
       		<p:column headerText="D.O.B."><h:outputText value="#{familymember.getDob()}" /></p:column>  
   		</p:dataTable> 
    		
		<p:separator id="separator-am1"/>
        <p:commandButton value="Add A New Member" update="view-members,add-member" id="show-add-members" ajax="false"  
           actionListener="#{profileBean.setAddMembers()}"/>
            
    </h:panelGroup>
    
	<h:panelGroup id="add-member" rendered="#{profileBean.isAddMember()}">
	<p:focus context="add-member"/>  
	 
          <p:panelGrid id="add-member-grid" columns="3" cellpadding="3">  
            
				<p:outputLabel for="usah-reg" style="display: block;width:125px;!important" value="USA Hockey Number:"></p:outputLabel>
				<p:inputText id="usah-reg" style="width:100px;" value="#{usahBean.regnumber}" required="true" requiredMessage="Usa Hockey Number cannot be blank.">
					<f:validator validatorId="validateUSAHRegistration" />
				</p:inputText>
	 			<p:message id="m_usah-reg" closable="true" for="usah-reg"/>

				<p:outputLabel for="usah-dob"  value="Date of Birth"></p:outputLabel>
				<p:inputMask id="usah-dob" value="#{usahBean.dob}" style="width:100px;" mask="99/99/9999" required="true" requiredMessage="Please Enter the DOB of the USA Hockey member." />  
	 			<p:message id="m_usah-dob" closable="true" for="usah-dob"/>
				<p:outputLabel  value="Relationship" /> 
       			<p:selectOneMenu id="relationship" value="#{usahBean.relationship}" style="width: 100px"  required="true" requiredMessage="need to select a relationship type." >         
            		<f:selectItem itemLabel="Child" itemValue="Child" />
            		<f:selectItem itemLabel="Self" itemValue="Self"/>
            		<f:selectItem itemLabel="Spouse" itemValue="Spouse"/>
        		</p:selectOneMenu >  
	 			<p:message id="m_relationship" closable="true" for="relationship"/>
				<p:outputLabel  value="Member Type" /> 
   			 	   <p:selectOneMenu  id="member" value="#{usahBean.membertype}" style="width: 100px" required="true" requiredMessage="need to select a member type." >    
           			<f:selectItem itemLabel="Player" itemValue="Player" />  
           			<f:selectItem itemLabel="Coach" itemValue="Coach"/>  
           			<f:selectItem itemLabel="Manager" itemValue="Manager"/>
       			</p:selectOneMenu>  
	 			<p:message id="m_member" closable="true" for="member"/>

			</p:panelGrid>	
			
			<p:commandButton value="Search USAH" update="add-member" id="search-usah" ajax="false" actionListener="#{usahBean.fetchUSAHockey()}"/>
 	
 	<p:separator />
 
 	<table>
			<tr>
			<td>
			<p:panelGrid columns="2" cellpadding="3">  
            	<h:outputText style="display:block;width:100px;!important" value="First Name:" />
            	<h:outputText value="#{usahBean.getUsar().getFirstName()}" />
            	<h:outputText value="Last Name:" />
            	<h:outputText value="#{usahBean.getUsar().getLastName()}" />
            	<h:outputText value="Middle Init:" />
            	<h:outputText value="#{usahBean.getUsar().getMiddleInit()}" />
			</p:panelGrid>  
           	<p:separator id="separator23"/>
			<p:panelGrid columns="2" cellpadding="3"> 
				<h:outputText style="display:block;width:100px;!important" value="Address:" />
            	<h:outputText value="#{usahBean.getUsar().getAddress()}" />
				<h:outputText value="City:" />
            	<h:outputText value="#{usahBean.getUsar().getCity()}" />
				<h:outputText value="State, Country:" />
             	<h:outputText value="#{usahBean.getUsar().getState()}, #{usahBean.getUsar().getCountry()}" />
            	<h:outputText value="Zipcode:" />
            	<h:outputText value="#{usahBean.getUsar().getZipcode()} #{usahBean.getUsar().getForZip()}" />
            </p:panelGrid>  
            </td>
            <td>
			<p:panelGrid columns="2" cellpadding="3">  
            	<h:outputText style="display:block;width:100px;!important" value="DOB:" />
            	<h:outputText value="#{usahBean.getUsar().getDOB()}" />
            	<h:outputText value="Citizenship:" />
            	<h:outputText value="#{usahBean.getUsar().getCitizen()}" />
            	<h:outputText value="Gender:" />
            	<h:outputText value="#{usahBean.getUsar().getGender()}" />
			</p:panelGrid>  
           	<p:separator id="separator2"/>
			<p:panelGrid columns="2" cellpadding="3">  
				<h:outputText style="display:block;width:100px;!important" value="Parent/Guardian:" />
            	<h:outputText value="#{usahBean.getUsar().getPGSFName()} #{usahBean.getUsar().getPGSMName()} #{usahBean.getUsar().getPGSLName()}" />
            	<h:outputText value="Home Phone:" />
            	<h:outputText value="#{usahBean.getUsar().getHPhone()}" />
				<h:outputText value="Work Phone:" />
            	<h:outputText value="#{usahBean.getUsar().getBPhone()}" />
            	<h:outputText value="e-mail:" />
            	<h:outputText value="#{usahBean.getUsar().getEmail()}" />
            </p:panelGrid>  
            </td>
            </tr>
            </table>	
            <p:separator id="separator3"/> 
            <p:panelGrid columns="3" cellpadding="3"> 
              <p:commandButton value="Cancel" update="add-member" id="cancel-add-mem" immediate="true" ajax="false" actionListener="#{profileBean.cancelAddMember()}" >
             		<p:ajax update="add-member" resetValues="true" />  
             	</p:commandButton>
             	<p:commandButton global="false" rendered="#{usahBean.datagood}" value="Save Now" update="add-member,view-members" id="finish-add-mem" ajax="false" actionListener="#{usahBean.addNewMember()}"/> 
            	 <p:message rendered="#{usahBean.datagood}" id="m_finish-add-mem" closable="true" for="finish-add-mem"/>
			</p:panelGrid>
	</h:panelGroup>            
 </h:form>		
</ui:define>
</ui:composition>
</html>