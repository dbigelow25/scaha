<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:p="http://primefaces.org/ui" 
     xmlns:c="http://java.sun.com/jsp/jstl/core"
>
<f:view contentType="text/html">


<f:metadata>
	<f:event type="preRenderView" listener="#{profileBean.verifyHasRoles('C-REG')}" />
</f:metadata>

<h:head>
	 <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
        <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
     </f:facet>
</h:head>
<h:body >	
<ui:composition template="/WEB-INF/templates/layout.xhtml">
<ui:define name="content">
	<h:form id="form1">	
	<p:layout id="mylayout" style="height:850px;">

		<p:layoutUnit id="header" position="north" header = "SCAHA GAMESHEET INFORMATION">
		    #{gamesheetBean.livegame.toString()}
		</p:layoutUnit>
 		<p:layoutUnit id="left" position="west" size="225" resizable="false" closable="false" collapsible="false" header="#{gamesheetBean.livegame.hometeam.getTeamname()}" >
			 <p:contextMenu id="homemenu" for="homeroster">  
    			 <p:menuitem value="Toggle MIA" update=":form1:homeside" icon="ui-icon-edit" actionListener="#{gamesheetBean.toggleMIA('H')}"/>  
    		</p:contextMenu>  	
    		<p:panel id = "homeside">
    		<!-- actionListener="" ajax="true" update="" -->
			<p:commandButton id="homegoals" value="G"  ajax="true" update=":form1:homescoringtbl" oncomplete="PF('scorehomedlg').show();"/>
			<p:commandButton id="homesaves" value="S"  oncomplete="PF('savesdlg').show();"/>
			<p:commandButton id="homepens" value="P"  oncomplete="PF('pensdlg').show();"/>
			
			<p:dataTable 
				id="homeroster" 
				var="spot" 
				value="#{gamesheetBean.hometeam}" 
				selection="#{gamesheetBean.selectedhomerosterspot}"
 				selectionMode="single" 
 				rowStyleClass="#{spot.isMia() ? 'rostermia' : null}"
 				 >
            	<p:column headerText="#" style="width:25px;">  
	               <h:outputText value="#{spot.jerseynumber}" /> 
	            </p:column>  
		        <p:column headerText="Player Name">  
		        	<h:outputText value="#{spot.lname}, #{spot.fname}" />  
		        </p:column>
			 </p:dataTable>
			 <p:dataTable id="homecoaches" var="rosteredit" value="#{managerBean.getRostercoachdatamodel()}" >
			     <f:facet name="header">
                  	<p:row>
            			<p:column colspan="7">Coaching Information</p:column>
       				</p:row>
                 </f:facet>
                <p:column style="width:25px;">  
	                   	<h:outputText value="#{rosteredit.jerseynumber}" />  
	            </p:column>  
		        <p:column>  
		        	<h:outputText value="#{rosteredit.getLastname()}" />  
		        </p:column>
		        <p:column>  
		        	<h:outputText value="#{rosteredit.getFirstname()}" />  
		        </p:column>
			 </p:dataTable> 
					<p:panelGrid columns="2">
				     <f:facet name="header">
    	              	<p:row>
        	    			<p:column colspan="2">Home Manager</p:column>
       					</p:row>
                	 </f:facet>
			 		<h:outputText value="Name" /> 
			 		<h:outputText value="Joe Smith" /> 
			 		<h:outputText value="Contact" /> 
			 		<h:outputText value="xxx-xxx-xxxx" /> 
				</p:panelGrid>
				</p:panel>
		</p:layoutUnit>
		<p:layoutUnit id="right" position="east" size="225" resizable="false" closable="false" collapsible="false" header="#{gamesheetBean.livegame.awayteam.getTeamname()}" >
			 <p:contextMenu id="awaymenu" for="awayroster">  
    			 <p:menuitem value="Toggle MIA" update="awayside" icon="ui-icon-edit" actionListener="#{gamesheetBean.toggleMIA('A')}"/>  
    		</p:contextMenu>  	
			<p:panel id = "awayside">
				<!-- actionListener="" ajax="true" update="" -->
				<p:commandButton id="awaygoals" value="G" ajax="true" update=":form1:awayscoringtbl" oncomplete="PF('scoreawaydlg').show();"/>
				<p:commandButton id="awaysaves" value="S"  oncomplete="PF('savesdlg').show();"/>
				<p:commandButton id="awaypens" value="P"  oncomplete="PF('pensdlg').show();"/>
			<p:dataTable 
				id="awayroster" 
				var="spot" 
				value="#{gamesheetBean.awayteam}" 
				selection="#{gamesheetBean.selectedawayrosterspot}"
 				selectionMode="single" 
				rowStyleClass="#{spot.isMia() ? 'rostermia' : null}"
 				 >
            	<p:column headerText="#" style="width:25px;">  
	               <h:outputText value="#{spot.jerseynumber}" /> 
	            </p:column>  
		        <p:column headerText="Name">  
		        	<h:outputText value="#{spot.lname}, #{spot.fname}" />  
		        </p:column>
			 </p:dataTable>
			 <p:dataTable id="awaycoaches" var="rosteredit" value="#{managerBean.getRostercoachdatamodel()}" >
			     <f:facet name="header">
                  	<p:row>
            			<p:column colspan="7">Coaching Information</p:column>
       				</p:row>
                 </f:facet>
                <p:column style="width:25px;">  
	                   	<h:outputText value="#{rosteredit.jerseynumber}" />  
	            </p:column>  
		        <p:column>  
		        	<h:outputText value="#{rosteredit.getLastname()}" />  
		        </p:column>
		        <p:column>  
		        	<h:outputText value="#{rosteredit.getFirstname()}" />  
		        </p:column>
			 </p:dataTable> 
				<p:panelGrid columns="2">
				     <f:facet name="header">
    	              	<p:row>
        	    			<p:column colspan="2">Visiting Manager</p:column>
       					</p:row>
                	 </f:facet>
			 		<h:outputText value="Name" /> 
			 		<h:outputText value="Joe Smith" /> 
			 		<h:outputText value="Contact" /> 
			 		<h:outputText value="xxx-xxx-xxxx" /> 
				</p:panelGrid>			 
				</p:panel>
		</p:layoutUnit>
		<p:layoutUnit id="center" position="center"  header="Game Information"  >
				<p:panelGrid columns="2">
				<p:panelGrid columns="2">
					<h:outputText value="#{gamesheetBean.livegame.hometeam.getTeamname()}" /> 
					<h:outputText value="Home Score" />
			 		<p:graphicImage width="50" height="50" id="homelogo" value="#{scahaBean.getClubLogoByParmId()}"  >
						<f:param name="target" value="#{gamesheetBean.getHomeClubId()}" />
					</p:graphicImage>
					<h:outputText value="#{gamesheetBean.getDerivedHomeScore()}" /> 
				</p:panelGrid>
				<p:panelGrid columns="2">
					<h:outputText value="#{gamesheetBean.livegame.awayteam.getTeamname()}" />
					<h:outputText value="Away Score" />
   			 		<p:graphicImage width="50" height="50" id="vistorlogo" value="#{scahaBean.getClubLogoByParmId()}"  >
						<f:param name="target" value="#{gamesheetBean.getAwayClubId()}" />
					</p:graphicImage>
					<h:outputText value="#{gamesheetBean.getDerivedAwayScore()}" /> 
				</p:panelGrid>
    			<p:dataTable id="homescoring" var="score" value="#{gamesheetBean.getHomescoring()}">
                 <f:facet name="header">
                  	<p:row>
            			<p:column colspan="7">Home Scoring Detail</p:column>
       				</p:row>
                 </f:facet>
            	<p:column headerText="No" style="width:25px;"> 	<h:outputText value="#{score.count}" /> 
		        </p:column>  
		        <p:column headerText="S/P" style="width:30px;"> <h:outputText value="#{score.goaltype}" /> 
		        </p:column>
		        <p:column headerText="Per" style="width:30px;">  <h:outputText value="#{score.period}" /> 
		        </p:column>
		        <p:column headerText="Time" style="width:30px;"> <h:outputText value="#{score.timescored}" />  
		        </p:column>
		        <p:column headerText="G" style="width:30px;"> <h:outputText value="#{score.lgrosterspotgoal.jerseynumber}" />   
		        </p:column>
		        <p:column headerText="A" style="width:30px;">   <h:outputText value="#{score.lgrosterspota1.jerseynumber}" />  
		        </p:column>
		        <p:column headerText="A" style="width:30px;">   <h:outputText value="#{score.lgrosterspota2.jerseynumber}" />  
		        </p:column>
			          
			 </p:dataTable>
    			<p:dataTable id="awayscoring" var="score" value="#{gamesheetBean.getAwayscoring()}">
                 <f:facet name="header">
                  	<p:row>
            			<p:column colspan="7">Home Scoring Detail</p:column>
       				</p:row>
                 </f:facet>
            	<p:column headerText="No" style="width:25px;"> 	<h:outputText value="#{score.count}" /> 
		        </p:column>  
		        <p:column headerText="S/P" style="width:30px;"> <h:outputText value="#{score.goaltype}" /> 
		        </p:column>
		        <p:column headerText="Per" style="width:30px;">  <h:outputText value="#{score.period}" /> 
		        </p:column>
		        <p:column headerText="Time" style="width:30px;"> <h:outputText value="#{score.timescored}" />  
		        </p:column>
		        <p:column headerText="G" style="width:30px;"> <h:outputText value="#{score.lgrosterspotgoal.jerseynumber}" />   
		        </p:column>
		        <p:column headerText="A" style="width:30px;">   <h:outputText value="#{score.lgrosterspota1.jerseynumber}" />  
		        </p:column>
		        <p:column headerText="A" style="width:30px;">   <h:outputText value="#{score.lgrosterspota2.jerseynumber}" />  
		        </p:column>
		        </p:dataTable>
   			</p:panelGrid>
     			
			<p:panelGrid columns="2" style="width:100%">
			    <f:facet name="header">
					GoalTenders Records        					
				</f:facet>
    			<p:panelGrid id = "homegoalie" style="width:100%">
   				 <f:facet name="header">
			        <p:row>
            		<p:column>No#</p:column>
            		<p:column>1st</p:column>
            		<p:column>2nd</p:column>
            		<p:column>3rd</p:column>
            		<p:column>OT</p:column>
            		<p:column styleClass="mtrxtotColumn" >Total</p:column>
			        </p:row>
 
    			</f:facet>
    			<p:row>
     		        <p:column rowspan="2">#33</p:column>
       				<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column styleClass="mtrxtotColumn">12</p:column>
				</p:row>
				<p:row>
       				<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column styleClass="mtrxtotColumn" >20</p:column>
   				 </p:row>               
    			<p:row>
     		        <p:column rowspan="2">#01</p:column>
       				<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column styleClass="mtrxtotColumn" >12</p:column>
   				 </p:row>               
   				 <p:row>
     		     	<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column styleClass="mtrxtotColumn" >20</p:column>
   				 </p:row>               
   				 
               </p:panelGrid>
    			<p:panelGrid id = "awaygoalie" style="width:100%">
   				 <f:facet name="header">
			        <p:row>
            		<p:column>No#</p:column>
            		<p:column>1st</p:column>
            		<p:column>2nd</p:column>
            		<p:column>3rd</p:column>
            		<p:column>OT</p:column>
            		<p:column styleClass="mtrxtotColumn">Total</p:column>
			        </p:row>
 
    			</f:facet>
    			<p:row>
     		        <p:column rowspan="2">#33</p:column>
       				<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column styleClass="mtrxtotColumn">12</p:column>
				</p:row>
				
				<p:row>
       				<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column styleClass="mtrxtotColumn">20</p:column>
   				 </p:row>               
    			<p:row>
     		        <p:column rowspan="2">#01</p:column>
       				<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column >3</p:column>
   					<p:column styleClass="mtrxtotColumn">12</p:column>
   				 </p:row>               
   				 <p:row>
     		     	<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column >5</p:column>
   					<p:column styleClass="mtrxtotColumn">20</p:column>
   				 </p:row>               
               </p:panelGrid>
               </p:panelGrid>
		     	<p:panel header="Summary Notes" width="100%">
					<p:editor  id="editor" value="Notes Go here" rendered="true"/>
				</p:panel>
    	</p:layoutUnit>
		<p:layoutUnit id="footer" position="south"  header = "PENALTY INFORMATION FOR GAME" >
			  <div style="float:left;">
			  	<p:dataTable id="homepenalties" var="rosteredit" value="#{managerBean.getRostereditdatamodel()}" selection="#{managerBean.selectedplayer}">
                 <f:facet name="header">
                  	<p:row>
            			<p:column colspan="7">PENALTIES - HOME</p:column>
       				</p:row>
                 </f:facet>
            	<p:column headerText="PER">  
		        </p:column>  
		        <p:column headerText="PLYR">  
		        </p:column>
		        <p:column headerText="PENALTY" width="40%">  
		        </p:column>
		        <p:column headerText="Min" style="width:30px;">  
		        </p:column>
		        <p:column headerText="Off" style="width:30px;">  
		        </p:column>
		        <p:column headerText="Start" style="width:30px;">  
		        </p:column>
		        <p:column headerText="On" style="width:30px;">  
		        </p:column>
			 </p:dataTable>
 			</div>
 			<div style="float:right;">
   			 <p:dataTable id="awaypentalties" var="rosteredit" value="#{managerBean.getRostereditdatamodel()}" selection="#{managerBean.selectedplayer}">
                 <f:facet name="header">
                  	<p:row>
            			<p:column colspan="7">PENALTIES - VISITOR</p:column>
       				</p:row>
                 </f:facet>
            	<p:column headerText="PER">  
		        </p:column>  
		        <p:column headerText="PLYR">  
		        </p:column>
		        <p:column headerText="PENALTY" width="40%">  
		        </p:column>
		        <p:column headerText="Min" style="width:30px;">  
		        </p:column>
		        <p:column headerText="Off" style="width:30px;">  
		        </p:column>
		        <p:column headerText="Start" style="width:30px;">  
		        </p:column>
		        <p:column headerText="On" style="width:30px;">  
		        </p:column>
			 </p:dataTable>
			 </div>
		</p:layoutUnit>
		
	</p:layout>
	
	<p:dialog id="scorehomedialog"  header="Goal Management for Home Team" widgetVar="scorehomedlg" modal="false" width="750" height="400">
		
				<p:dataTable 
				id="homescoringtbl" 
				var="score" 
				value="#{gamesheetBean.getHomescoring()}"
				editable="true" 
				selectionMode="single" 
				selection="#{gamesheetBean.selectedhomescore}" 
				>
                 <f:facet name="header">
                  	<p:row>
            			<p:column colspan="7">Home Scoring Detail</p:column>
       				</p:row>
                 </f:facet>
                 
                <p:ajax event="rowEdit" listener="#{gamesheetBean.onHomeScoreEdit}"  update=":form1:homescoringtbl" /> 
	   			<p:ajax event="rowEditCancel" listener="#{gamesheetBean.onHomeScoreCancel}" update=":form1:homescoringtbl" /> 
	   	 	<p:column headerText="Edit" style="width:5%">
            	<p:rowEditor /> 
         	</p:column> 
            	<p:column headerText="No" style="width:25px;"> 	<h:outputText value="#{score.count}" /> 
		        </p:column>  
		        <p:column headerText="S/P" style="width:30px;"> <h:outputText value="#{score.goaltype}" /> 
		        </p:column>
		        <p:column headerText="Per" style="width:30px;">  <h:outputText value="#{score.period}" /> 
		        </p:column>
		        <p:column headerText="Time" style="width:30px;"> <h:outputText value="#{score.timescored}" />  
		        </p:column>
		        <p:column headerText="G" style="width:30px;"> <h:outputText value="#{score.lgrosterspotgoal.jerseynumber} - #{score.lgrosterspotgoal.lname}" />   
		        </p:column>
		        <p:column headerText="A" style="width:30px;">   <h:outputText value="#{score.lgrosterspota1.jerseynumber} - #{score.lgrosterspota1.lname}" />  
		        </p:column>
		        <p:column headerText="A" style="width:30px;">   <h:outputText value="#{score.lgrosterspota2.jerseynumber} - #{score.lgrosterspota2.lname}" />  
		        </p:column>
			          
			 </p:dataTable>
	
		<div align="center"><p:commandButton value="Close" oncomplete="scorehomedlg.hide()" /></div>    
	</p:dialog>
	
	<p:dialog id="scoreawaydialog"  header="Goal Management for Away Team" widgetVar="scoreawaydlg" modal="false" width="750" height="400">
			<p:dataTable 
				id="awayscoringtbl" 
				var="score" 
				value="#{gamesheetBean.getAwayscoring()}"
				selectionMode="single" 
				selection="#{gamesheetBean.selectedawayscore}" 
				>
                 <f:facet name="header">
                  	<p:row>
            			<p:column colspan="7">Away Scoring Detail</p:column>
       				</p:row>
                 </f:facet>
             
                <p:ajax event="rowEdit" listener="#{gamesheetBean.onAwayScoreEdit}"  update=":form1:awayscoringtbl" /> 
	   			<p:ajax event="rowEditCancel" listener="#{gamesheetBean.onAwayScoreCancel}" update=":form1:awayscoringtbl" /> 
	   	 		<p:column headerText="Edit" style="width:5%">
	            	<p:rowEditor /> 
    	     	</p:column> 
    	 		<p:column headerText="Remove" style="width:5%">
    	     	</p:column> 
            	<p:column headerText="No" style="width:25px;"> 	<h:outputText value="#{score.count}" /> 
		        </p:column>  
		        <p:column headerText="S/P" style="width:30px;"> <h:outputText value="#{score.goaltype}" /> 
		        </p:column>
		        <p:column headerText="Per" style="width:30px;">  <h:outputText value="#{score.period}" /> 
		        </p:column>
		        <p:column headerText="Time" style="width:30px;"> <h:outputText value="#{score.timescored}" />  
		        </p:column>
		        <p:column headerText="G" style="width:30px;"> <h:outputText value="#{score.lgrosterspotgoal.jerseynumber} - #{score.lgrosterspotgoal.lname}" />   
		        </p:column>
		        <p:column headerText="A" style="width:30px;">   <h:outputText value="#{score.lgrosterspota1.jerseynumber} - #{score.lgrosterspota1.lname}" />  
		        </p:column>
		        <p:column headerText="A" style="width:30px;">   <h:outputText value="#{score.lgrosterspota2.jerseynumber} - #{score.lgrosterspota2.lname}" />  
		        </p:column>
			 </p:dataTable>
		
		<div align="center"><p:commandButton value="Close" oncomplete="scoreawaydlg.hide()" /></div>    
	</p:dialog>
	<p:dialog id="savesdialog"  header="Shots and Saves" widgetVar="savesdlg" modal="false" >
		<div align="center"><p:commandButton value="Close" oncomplete="savesdlg.hide()" /></div>    
	</p:dialog>
	<p:dialog id="pensdialog"  header="Penalties" widgetVar="pensdlg" modal="false" >
		<div align="center"><p:commandButton value="Close" oncomplete="pensdlg.hide()" /></div>    
	</p:dialog>
	</h:form>
</ui:define>
</ui:composition>
</h:body>
</f:view>
</html>