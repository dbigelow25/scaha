<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="/WEB-INF/templates/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
	
<ui:define name="content">
	
<p:notificationBar position="top" effect="slide" widgetVar="bar" styleClass="top">  
   	<h:outputText value="SCAHA" style="color:#FFCC00;font-size:36px;" />  
</p:notificationBar>  

<div id="news-div">	

	<h:form id="clubsmenu" >

  	<pe:masterDetail id="masterDetail" selectLevelListener="#{selectLevelListener.handleNavigation}"  showAllBreadcrumbItems="true"> 
  	
    <pe:masterDetailLevel level="1" levelLabel="SCAHA Clubs">  

  		<p:dataTable id="listofclubs" var="club" value="#{clubBean.getScahaClubList()}" >
			<p:subTable var="peep" value="#{club.getCal()}" tableStyle="width:auto">
	            <f:facet name="header">
	            	<div style="float:left;vertical-align:middle;width:75px;font-size: 12px;">
	            	<p:graphicImage id="logoimage1" value="#{clubBean.getClubLogoByParmId()}"  >
	            		<f:param id = "target" name="target" value="#{club.getClubID()}" />
			 		</p:graphicImage> 
					</div>
	            	<div style=	"float:left;margin-top:15px;margin-left:10px;vertical-align:middle;width:300px;font-size: 12px;">
	            	<p:commandLink value="#{club.getClubname()} - (#{club.getCahaNumber()})">  
    	                <pe:selectDetailLevel contextValue="#{club}"/>  
   		            </p:commandLink>
   		            </div>
	            	<div style="float:right;margin-top:15px;margin-left:10px;text-align:right;vertical-align:middle;width:200px;font-size: 12px;">
	            	  (<i><h:outputLink value="#{club.getWebSite()}">#{club.getWebSite()}</h:outputLink></i>)
   		       		</div>
        		</f:facet>
 	            <p:column style="font-size: 12px;">
    	            <p:spacer width="10px" />
    	        </p:column >
 	            <p:column style="font-size: 12px;">
    	            #{peep.getMyRole().getDesc()}
   	            </p:column >
	            <p:column style="font-size: 12px;">
    	            #{peep.getsFirstName()} #{peep.getsLastName()}
        	    </p:column>
	            <p:column style="font-size: 12px;">
    	            #{peep.getsPhone()}
        	    </p:column>
	            <p:column>
					<h:outputLink value="mailto:#{peep.getsEmail()}">
    					<f:param name="subject" value="iSCAHA Related" />
   						 <h:outputText style="font-size: 12px;" value=" #{peep.getsEmail()}" />
					</h:outputLink>
        	    </p:column>
        	    <f:facet name="footer">
        	    	<div style="float:left;margin-top:15px;margin-left:10px;text-align:right;vertical-align:middle;width:200px;">
	            	  (<i><h:outputLink value="#{club.getWebSite()}">#{club.getWebSite()}</h:outputLink></i>)
   		      	</div>
        		</f:facet>
			</p:subTable>
   		</p:dataTable>
	</pe:masterDetailLevel>
	<pe:masterDetailLevel level="2" contextVar="club" levelLabel="#{club.getClubname()} ">
		#{clubBean.setClub(club)}
		<table>
		<tr>
		<td valign="top">
		<p:graphicImage id="logoimage" value="#{clubBean.getClubLogo()}" cache="false">
		 <f:param id = "target1" name="target" value="#{club.getClubID()}" />
		 </p:graphicImage> 
		<p:fileUpload id="fileUploadLogo" mode="advanced"  fileUploadListener="#{clubBean.handleFileUpload}"   
    		 description="Images" update="logoimage" render="true"/>    
  	          
    	</td>
        </tr>
		<tr>
		<td valign="top">
		<p:panelGrid id="clublevel" columns="2">  
            <p:outputLabel value="Club Name:"/>  
            <h:outputText value="#{club.getClubname()}"/>  
            <h:outputText value="Web Site:"/>  
            <h:outputText value="#{club.getWebSite()}"/>  
        </p:panelGrid>
        </td>
		<td valign="top">
		<p:panelGrid id="clubpeeps" columns="2">  
            <p:outputLabel value="President"/>  
            <h:outputText value="President Name Here"/>  
            <h:outputText value="Registrar"/>  
            <h:outputText value="Registrar Name Here"/>  
            <h:outputText value="Ice Conveiner"/>  
            <h:outputText value="Ice Convener Here"/>  
        </p:panelGrid>
		</td>
        </tr>
        </table>
        
               <p:commandButton value="Save with success" process="masterDetail"  
                         action="#{clubBean.save()}"  
                         style="margin-top:10px;" icon="ui-icon-disk">  
	            </p:commandButton>
	  </pe:masterDetailLevel>	
	</pe:masterDetail>
	</h:form>
	<p:separator />
</div>
</ui:define>
</ui:composition>