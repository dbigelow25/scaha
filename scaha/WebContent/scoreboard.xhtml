<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:p="http://primefaces.org/ui" 
     xmlns:c="http://java.sun.com/jsp/jstl/core"
>
<f:view contentType="text/html">
<h:head>
	 <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
        <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
     </f:facet>
</h:head>


<f:metadata>
	<f:event type="preRenderView" listener="#{profileBean.verifyHasRoles('C-REG;C-ICE;C-PRES')}" />
</f:metadata>
<ui:composition template="/WEB-INF/templates/layout.xhtml">
<ui:define name="content">
<p:separator />
		<h:form id="scheduleform">
				<p:selectOneMenu styleClass="ddlistbox" id="myseasons" value="#{scoreboardBean.selectedseasonid}" >
       	   			<f:selectItem style="font-size:10pt;" itemLabel="Select a Season..." itemValue="0" />
           			<f:selectItems value="#{scoreboardBean.getSeasonlist()}"  var="season"  itemLabel="#{season.getDescription()}" itemValue="#{season.getKey()}"/>
           			<p:ajax listener="#{scoreboardBean.onSeasonChange()}" process="@this" update="myschedules myteams testContainer testContainer2 "/>
       			</p:selectOneMenu>
       							
 				<p:selectOneMenu styleClass="ddlistbox"  id="myschedules" value="#{scoreboardBean.selectedscheduleid}" >
         			<f:selectItem style="font-size:10pt;" itemLabel="Select a Schedule..." itemValue="0" />
          			<f:selectItems  value="#{scoreboardBean.getSchedulelist()}" var="schedule" itemLabel="#{schedule.getDescription()}" itemValue="#{schedule.getKey()}" />
          			<p:ajax listener="#{scoreboardBean.onScheduleChange()}" process="@this" update="@this myteams testContainer testContainer2"/>
        		</p:selectOneMenu>	
				<p:selectOneMenu styleClass="ddlistbox"  id="myteams" value="#{scoreboardBean.selectedpartid}" >
         			<f:selectItem style="font-size:10pt;" itemLabel="Schedule For All Teams..." itemValue="0" />
          			<f:selectItems  value="#{scoreboardBean.getPartpicklist()}" var="part" itemLabel="#{part.getTeam().getTeamname()}" itemValue="#{part.getKey()}" />
          			<p:ajax listener="#{scoreboardBean.onPartChange()}" process="@this" update="@this testContainer2"/>
        		</p:selectOneMenu>	
				<p:separator />   
			  <p:outputPanel id="testContainer">
				<div class="NewsTitle">Standings:</div>	
				<p:dataTable  id= "parts" var="part" value="#{scoreboardBean.getPartlist()}">
  		          <p:column  styleClass="mtrxColumn" width="5%" headerText=" " style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getPlace()}" />
         	   	  </p:column >
    		      <p:column headerText="Team Name " style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getTeam().getTeamname()} " />
	         	  </p:column >
    	          <p:column  styleClass="mtrxColumn" width="8%" headerText="Games " style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getGames()} " />
	         	   </p:column >
    	          <p:column  styleClass="mtrxColumn" width="8%" headerText="Ex Games " style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getExgames()} " />
	         	   </p:column >
    	          <p:column  styleClass="mtrxColumn" width="8%" headerText="Games Played" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getGamesplayed()} " />
	         	   </p:column >
    	          <p:column  styleClass="mtrxColumn" width="8%" headerText="Wins " style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getWins()} " />
	         	   </p:column >
    	          <p:column  styleClass="mtrxColumn" width="8%" headerText="Loses " style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getLoses()} " />
	         	   </p:column >
    	          <p:column  styleClass="mtrxColumn" width="8%" headerText="Ties" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getTies()} " />
	         	   </p:column >
     	          <p:column  styleClass="mtrxtotColumn" width="5%" headerText="Points" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getPoints()} " />
	         	   </p:column >
	         	    <p:column  styleClass="mtrxtotColumn" width="5%" headerText="GF" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getGf()} " />
	         	   </p:column >
	         	    <p:column  styleClass="mtrxtotColumn" width="5%" headerText="GA" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getGa()} " />
	         	   </p:column >
	         	    <p:column  styleClass="mtrxtotColumn" width="5%" headerText="GD" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{part.getGd()} " />
	         	   </p:column >
				</p:dataTable>
				<p:separator />
			    <p:outputPanel id="testContainer2">
				<div class="NewsTitle">Schedule:</div>	
				 <p:contextMenu for="games">  
       				 <p:menuitem value="Edit Game" update="" icon="ui-icon-edit" actionListener="#{scoreboardBean.editLiveGame()}"/>  
    			</p:contextMenu>  
				<p:dataTable  
					id= "games" 
					var="game" 
					value="#{scoreboardBean.getLivegamelist()}"
					selection="#{scoreboardBean.selectedlivegame}" 
 					selectionMode="single" 
					>
  		          <p:column  styleClass="mtrxColumn" width="7%" headerText="Game #" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getGameId()}" />
         	   	  </p:column >
   				 <p:column  width="7%" headerText="Type " style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getTypetag()}" />
         	   	  </p:column >
  		          <p:column  width="7%" headerText="Status " style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getStatetag()}" />
         	   	  </p:column >
				  <p:column headerText="Home Team" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getHometeam().getTeamname()} " />
	         	  </p:column >
    		      <p:column styleClass="mtrxColumn" headerText="Score" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getHomescore()} " />
	         	  </p:column >
    		      <p:column headerText="Away Team" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getAwayteam().getTeamname()} " />
	         	  </p:column >
    		      <p:column styleClass="mtrxColumn" headerText="Score" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getAwayscore()} " />
	         	  </p:column >
    	          <p:column  headerText="Venue" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getVenuetag()} " />
	         	   </p:column >
    	          <p:column  headerText="Rink" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getSheetname()} " />
	         	   </p:column >
    	          <p:column  headerText="Start Date" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getStartdate()} " />
	         	   </p:column >
    	          <p:column  headerText="Start Time" style="font-size: 10px;">
   	    	         <h:outputText style="font-size: 10px;" value="#{game.getStarttime()} " />
	         	   </p:column >
  		      </p:dataTable>
 				 </p:outputPanel>
        		</p:outputPanel>
    
		</h:form>
</ui:define>
</ui:composition>
</f:view>
</html>